<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>shell脚本安装apche服务</title>
    <url>/2020/02/06/shell%E8%84%9A%E6%9C%AC/index/</url>
    <content><![CDATA[<p>shell脚本的使用过程，将下面代码复制到Centos或者Redhat服务器上赋予执行权限执行即可<br>chmod +x shell脚本</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo "正在检测您的服务器剩余的安装包!!!"</span><br><span class="line">rpm -qa |grep httpd &amp;&gt;/dev/null</span><br><span class="line">if [ $? -eq 0 ];then</span><br><span class="line">	yum -y remove httpd* &amp;&gt;/dev/null</span><br><span class="line">	echo "清理剩余安装包完成!!!"</span><br><span class="line">else</span><br><span class="line">	echo "您的服务器没有剩余安装包!!!"</span><br><span class="line">fi</span><br><span class="line">menu () &#123;</span><br><span class="line">rpm -qa |grep httpd &amp;&gt;/dev/null</span><br><span class="line">if [ $? -eq 1 ];then</span><br><span class="line">		echo "目前没有安装网站服务器"</span><br><span class="line">	read -p  "是否安装网站服务器(yes|no):" yes</span><br><span class="line">	if [ $yes = yes ];then</span><br><span class="line">		yum -y install httpd &amp;&gt;/dev/null</span><br><span class="line">		echo "网站服务器安装成功!!!!"</span><br><span class="line">		read -p  "请输入网站配置文件(默认储存/etc/httpd/conf.d/):" config</span><br><span class="line">			touch /etc/httpd/conf.d/$config'.conf'</span><br><span class="line">			echo "您的网站配置文件设置为:/etc/httpd/conf.d/$config.conf"</span><br><span class="line">		read -p  "请输入网站域名或IP地址:" domain</span><br><span class="line">			echo "您的网站域名或IP为:$domain"</span><br><span class="line">		read -p  "请输入网站根目录(默认为/var/www/html):" root</span><br><span class="line">			mkdir $root &amp;&gt;/dev/null</span><br><span class="line">			echo "网站根目录已经设置为$root"</span><br><span class="line">			read -p "请输入网站首页(默认为index.html):" index</span><br><span class="line">			touch /$root/$index</span><br><span class="line">			read -p "请输入网站首页内容:" neir</span><br><span class="line">			echo "$neir" &gt;&gt; /$root/$index</span><br><span class="line">			while true</span><br><span class="line">			do</span><br><span class="line">				read -p "是否重新加载配置文件(yes|no)" no</span><br><span class="line">				if [ $no = yes ];then</span><br><span class="line">					systemctl restart httpd</span><br><span class="line">					echo "网站服务器重新加载成功!!"</span><br><span class="line">					break</span><br><span class="line">				else</span><br><span class="line">					echo "建议您重启加载配置"</span><br><span class="line">				fi</span><br><span class="line">					</span><br><span class="line">			done</span><br><span class="line">echo "====================================================="</span><br><span class="line">echo "您的网站配置文件是:/etc/httpd/conf.d/$config.conf"</span><br><span class="line">echo "您的服务器域名或IP是:"$domain</span><br><span class="line">echo "您的服务器根目录是:"$root</span><br><span class="line">echo "您的服务器首页是:"$index</span><br><span class="line">echo "您的服务器首页内容是:"$neir</span><br><span class="line">echo "写入配置文件成功!!!赶紧访问你的服务器吧！"</span><br><span class="line">cat &gt;&gt; /etc/httpd/conf.d/$config.conf &lt;&lt; OEF</span><br><span class="line">&lt;virtualhost *:80&gt;</span><br><span class="line">servername $domain</span><br><span class="line">documentroot $root</span><br><span class="line">directoryindex $index </span><br><span class="line">&lt;directory "$root"&gt; </span><br><span class="line">        require all granted</span><br><span class="line">&lt;/directory&gt; </span><br><span class="line">&lt;/virtualhost&gt;</span><br><span class="line">OEF</span><br><span class="line">echo "====================================================="</span><br><span class="line">	else</span><br><span class="line">		echo "已经取消安装网站服务器"</span><br><span class="line">	fi</span><br><span class="line">else</span><br><span class="line">	echo "网站服务器已安装"	</span><br><span class="line">fi</span><br><span class="line">&#125;</span><br><span class="line">menu</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Centos/Redhat</category>
      </categories>
      <tags>
        <tag>shell脚本</tag>
      </tags>
  </entry>
  <entry>
    <title>博客知乎</title>
    <url>/2020/02/06/index/</url>
    <content><![CDATA[<p>本博主将把日常学习到的知识在该博客上进行分享！<br>请善待每一份资源，都来之不易，请尊重每一位博主<br>在原创文章中，未经博主允许，进行商用或者进行转载（未标明转载处）必究</p>
]]></content>
  </entry>
</search>
